<!doctypehtml><html class=dark lang=ko><meta charset=utf-8><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"name=viewport><title>English App V2</title><script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=JetBrains+Mono:wght@500&display=swap"rel=stylesheet><link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js></script><script>tailwind.config={darkMode:"class",theme:{extend:{colors:{primary:"#39FF14","background-dark":"#050505","card-dark":"#121212"},fontFamily:{display:["Inter","sans-serif"],mono:["JetBrains Mono","monospace"]},boxShadow:{neon:"0 0 20px rgba(57, 255, 20, 0.4)","neon-strong":"0 0 30px rgba(57, 255, 20, 0.6)"}}}}</script><style>body{background-color:#000;color:#fff}.glass-panel{background:rgba(18,18,18,.8);backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,.05)}.shake{animation:shake .4s ease-in-out}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}::-webkit-scrollbar{width:0;background:0 0}::placeholder{color:#555;opacity:1}.text-glow{text-shadow:0 0 10px rgba(57,255,20,.5)}</style><body class="flex justify-center bg-black font-display min-h-screen text-white"><main class="flex flex-col bg-black relative h-screen max-w-md overflow-hidden shadow-2xl w-full"><div class="flex justify-center items-center flex-col h-full px-6 relative"id=login-box style=display:flex><div class="flex flex-col items-center -mt-40 space-y-6 w-full"><div class="space-y-2 text-center"><p class="text-[#39FF14] text-xs tracking-widest font-bold mb-4 opacity-80">SYSTEM ONLINE v2.5.0<div class=mb-8><span class="text-[#39FF14] material-icons-round drop-shadow-[0_0_15px_rgba(57,255,20,0.5)] text-7xl">lock</span></div><div><p class="text-[#39FF14] text-xs font-bold mb-1 tracking-[0.2em]">ë°”ë¥´ê³  ë¹ ë¥¸ ì˜ì–´<h1 class="font-black text-white italic text-4xl tracking-tighter">BUILD A <span class=text-[#39FF14]>MONSTER</span></h1></div></div><div class="w-full space-y-4"><input class="w-full border border-neutral-800 bg-[#1c1c1c] font-bold rounded-xl text-white transition-all focus:border-[#39FF14] focus:outline-none focus:shadow-[0_0_15px_rgba(57,255,20,0.2)] font-mono placeholder-neutral-600 py-4 text-center text-xl tracking-widest"id=phone-input maxlength=11 placeholder="Enter the code"type=tel> <button class="w-full rounded-xl py-4 active:scale-95 bg-[#39FF14] font-black hover:bg-[#32e012] text-black text-lg transition-transform shadow-[0_0_20px_rgba(57,255,20,0.4)]"onclick=login()>LOGIN SYSTEM</button><p class="break-keep mt-4 leading-relaxed px-1 text-[10px] text-center text-neutral-500">ë³¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— í¬í•¨ëœ ëª¨ë“  ì½˜í…ì¸ ëŠ” ì£¼ì‹íšŒì‚¬ ë°”ë¹ ì˜ì˜ ì§€ì  ì¬ì‚°ì´ë©°, ì €ì‘ê¶Œë²•ì˜ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. í—ˆê°€ ì—†ì´ ë³µì œ, ë°°í¬, ì „ì†¡, ì „ì‹œ, ìƒì—…ì  ì´ìš©ì„ í•  ê²½ìš°, ì €ì‘ê¶Œë²• ì œ136ì¡° ë“±ì— ë”°ë¼ ë²•ì  ì±…ì„ì„ ë¬¼ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div></div><div class="flex flex-col bg-black relative h-full z-10"id=app style=display:none><header class="pb-2 bg-black pt-10 px-6 sticky top-0 z-30"><div class=space-y-1><p class="font-bold text-xs text-primary tracking-wider uppercase">Training application<h1 class="font-black text-white text-3xl tracking-tight">Build A <span class=text-white>Monster</span></h1></div></header><div class="flex-1 no-scrollbar overflow-y-auto pb-28 pt-4 px-5 scroll-smooth space-y-6"id=main-scroll><div id=unit-selector><div class="gap-3 grid grid-cols-1"id=unit-buttons></div></div><div class="pt-6 px-2"id=menu-box style=display:none><h2 class="text-[#39FF14] font-black uppercase text-center drop-shadow-[0_0_5px_rgba(57,255,20,0.5)] mb-10 text-3xl tracking-tighter">SELECT MODE</h2><div class="grid grid-cols-2 gap-4 mb-5"><button class="flex justify-center items-center flex-col group active:scale-95 bg-black border border-[#39FF14] gap-3 h-40 hover:bg-[#39FF14]/10 rounded-2xl transition-transform"onclick=startScriptMode()><span class="text-[#39FF14] material-icons-round drop-shadow-[0_0_8px_rgba(57,255,20,0.4)] group-hover:scale-110 text-5xl transition-transform">record_voice_over</span> <span class="text-[#39FF14] font-black uppercase text-xs tracking-widest">Script</span></button> <button class="flex justify-center items-center flex-col group active:scale-95 bg-black border border-[#39FF14] gap-3 h-40 hover:bg-[#39FF14]/10 rounded-2xl transition-transform"onclick=startVocaMode()><span class="text-[#39FF14] material-icons-round drop-shadow-[0_0_8px_rgba(57,255,20,0.4)] group-hover:scale-110 text-5xl transition-transform">menu_book</span> <span class="text-[#39FF14] font-black uppercase text-xs tracking-widest">Vocab</span></button> <button class="flex justify-center items-center flex-col group active:scale-95 bg-black border border-[#39FF14] gap-3 h-40 hover:bg-[#39FF14]/10 rounded-2xl transition-transform"onclick=startASMode()><span class="text-[#39FF14] material-icons-round drop-shadow-[0_0_8px_rgba(57,255,20,0.4)] group-hover:scale-110 text-5xl transition-transform">spellcheck</span> <span class="text-[#39FF14] font-black uppercase text-xs tracking-widest leading-tight text-center">AS<br>Correction</span></button> <button class="flex justify-center items-center flex-col group active:scale-95 bg-black border border-[#39FF14] gap-3 h-40 hover:bg-[#39FF14]/10 rounded-2xl transition-transform"onclick=startRepeatMode()><span class="text-[#39FF14] material-icons-round drop-shadow-[0_0_8px_rgba(57,255,20,0.4)] group-hover:scale-110 text-5xl transition-transform">headset</span> <span class="text-[#39FF14] font-black uppercase text-xs tracking-widest leading-tight text-center">Repeat<br>Listening</span></button></div><button class="text-[#39FF14] font-black uppercase active:scale-95 bg-black border border-[#39FF14] drop-shadow-[0_0_5px_rgba(57,255,20,0.3)] hover:bg-[#39FF14]/10 py-5 rounded-2xl text-sm tracking-[0.2em] transition-transform w-full"onclick=startAccurateSpeakingMode()>Accurate Speaking</button></div><div class="flex flex-col h-full"id=study-box style=display:none><div class="flex flex-col relative h-[65%]"><div class="w-full px-6 pt-6 z-10"><div class="w-full border border-neutral-800 bg-[#111] h-3 mb-2 overflow-hidden rounded-full"><div class="rounded-full bg-[#39FF14] duration-300 h-full shadow-[0_0_15px_#39FF14] transition-all"id=progress style=width:0%></div></div><div class="text-[#39FF14] font-bold tracking-widest font-mono text-right text-sm"id=progress-percent>0%</div></div><div class="flex justify-center items-center flex-col flex-1 pb-4 px-4 text-center"><p class="flex justify-center items-center break-keep drop-shadow-md font-black leading-snug min-h-[4rem] text-2xl text-white"id=sentence>Ready?<p class="break-keep mt-4 font-medium min-h-[1.5rem] text-slate-500 text-sm tracking-wide"id=sentence-kor></div></div><div class="flex flex-col h-[35%] gap-3 justify-start px-6 w-full"><button class="w-full rounded-xl py-4 active:scale-95 bg-[#39FF14] font-black hover:bg-[#32e012] text-black text-lg transition-transform shadow-[0_0_20px_rgba(57,255,20,0.3)] tracking-widest uppercase"onclick=startStudy() id=start-btn>Start</button><div class="gap-3 grid grid-cols-2 h-14"><button class="font-bold rounded-xl bg-[#1c1c1c] border border-neutral-800 text-white transition-all active:border-[#39FF14] active:text-[#39FF14] hover:bg-[#252525]"onclick=skipSentence() id=skip-btn style=display:none>Skip</button> <button class="w-full border border-neutral-800 bg-[#1c1c1c] font-bold rounded-xl text-white transition-all active:border-[#39FF14] active:text-[#39FF14] col-span-2 h-full hover:bg-[#252525]"onclick=showMenu() id=back-btn>Back</button></div></div></div><div id=repeat-box style=display:none></div><div id=as-box style=display:none></div><div id=as-record-box style=display:none></div><div id=results-box style=display:none><h2 class="font-bold text-primary mb-6 pl-1 text-xl">Progress Report</h2><div class=space-y-3 id=results-content></div></div><div class="flex justify-center items-center flex-col h-[50vh]"id=dev-box style=display:none><div class="rounded-full animate-spin border-4 border-primary border-t-transparent h-10 w-10"></div></div></div><nav class="flex w-full items-center bg-[#111] border-neutral-900 border-t bottom-0 fixed h-[90px] justify-around pb-4 shadow-[0_-5px_20px_rgba(0,0,0,0.8)] z-50"id=bottom-nav><button class="flex justify-center items-center flex-col group w-16"onclick=goBackToUnits()><span class="text-[#39FF14] material-icons-round group-hover:drop-shadow-[0_0_8px_rgba(57,255,20,0.6)] mb-1 text-2xl transition-all">home</span> <span class="flex justify-center text-center font-bold h-7 items-start leading-tight text-[10px] text-[#39FF14]">UNIT</span></button> <button class="flex justify-center items-center flex-col group w-16"onclick=showReport()><span class="material-icons-round mb-1 text-2xl group-hover:text-white text-neutral-500 transition-colors">bar_chart</span> <span class="flex justify-center text-center font-bold h-7 items-start leading-tight text-[10px] group-hover:text-white text-neutral-500 transition-colors">PROGRESS<br>REPORT</span></button> <button class="flex justify-center items-center flex-col group w-16"onclick=showProfile()><span class="material-icons-round mb-1 text-2xl group-hover:text-white text-neutral-500 transition-colors">person</span> <span class="flex justify-center text-center font-bold h-7 items-start leading-tight text-[10px] group-hover:text-white text-neutral-500 transition-colors">PROFILE</span></button> <button class="flex justify-center items-center flex-col group w-16"onclick=showNotice()><span class="material-icons-round mb-1 text-2xl group-hover:text-white text-neutral-500 transition-colors">notifications</span> <span class="flex justify-center text-center font-bold h-7 items-start leading-tight text-[10px] group-hover:text-white text-neutral-500 transition-colors">NOTICE</span></button></nav></div><div class="flex justify-center items-center px-6 backdrop-blur-sm bg-black/90 fixed inset-0 z-50"id=custom-modal style=display:none><div class="w-full border border-neutral-800 bg-[#1c1c1c] text-center max-w-sm p-6 rounded-2xl"><p class="font-medium leading-relaxed mb-6 text-lg text-white"id=modal-msg></p><button class="w-full rounded-xl font-bold bg-primary hover:bg-primary/90 py-3 text-black"onclick=closeCustomModal()>OK</button></div></div></main><script src=app.js></script><script>// [ë³´ì•ˆ] ìš°í´ë¦­ ë° ê°œë°œì ë„êµ¬(F12) ë°©ì§€
document.addEventListener('contextmenu', event => event.preventDefault());
document.onkeydown = function(e) {
    if(e.keyCode == 123) { return false; } // F12
    if(e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) { return false; } // Ctrl+Shift+I
    if(e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) { return false; } // Ctrl+Shift+C
    if(e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) { return false; } // Ctrl+Shift+J
    if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; } // Ctrl+U
}
    // [ê¸°ëŠ¥ ì¶”ê°€] í™”ë©´ êº¼ì§ ë°©ì§€ (Wake Lock API)
    let wakeLock = null;

    async function toggleScreenKeepAwake(enable) {
        try {
            if ('wakeLock' in navigator) {
                if (enable) {
                    if (!wakeLock) {
                        wakeLock = await navigator.wakeLock.request('screen');
                        console.log('ğŸ’¡ Screen Wake Lock Active (í™”ë©´ ì¼œì§ ìœ ì§€)');
                    }
                } else {
                    if (wakeLock) {
                        await wakeLock.release();
                        wakeLock = null;
                        console.log('ğŸŒ‘ Screen Wake Lock Released (í™”ë©´ ì œì–´ í•´ì œ)');
                    }
                }
            }
        } catch (err) {
            console.log(`Wake Lock Error: ${err.name}, ${err.message}`);
        }
    }

    // 1. í™”ë©´ ì „í™˜ ê´€ë¦¬ í•¨ìˆ˜
    const originalShowBox = window.showBox;
    window.showBox = function(boxId) {
        // í™”ë©´ ë¦¬ìŠ¤íŠ¸
        const boxes = [
            'login-box', 'unit-selector', 'menu-box', 'study-box', 
            'repeat-box', 'dev-box', 'as-box', 'results-box', 
            'as-record-box', 'report-box', 'profile-box', 'notice-box'
        ];
        
        boxes.forEach(id => {
            const el = document.getElementById(id);
            if(el) el.style.display = (id === boxId) ? 'block' : 'none';
        });
        
        // ë¡œê·¸ì¸/ë„¤ë¹„ê²Œì´ì…˜ ë°” ì œì–´
        const isLogin = (boxId === 'login-box');
        const appEl = document.getElementById("app");
        const loginEl = document.getElementById('login-box');
        const navBar = document.getElementById('bottom-nav');

        if(appEl) appEl.style.display = isLogin ? 'none' : 'flex';
        if(loginEl) loginEl.style.display = isLogin ? 'flex' : 'none';
        if(navBar) navBar.style.display = isLogin ? 'none' : 'flex';

        // â­ [í•µì‹¬] í•™ìŠµ í™”ë©´('study-box')ì¼ ë•Œë§Œ í™”ë©´ ì¼œì§ ìœ ì§€
        if (boxId === 'study-box' || boxId === 'repeat-box') {
            toggleScreenKeepAwake(true);
        } else {
            toggleScreenKeepAwake(false);
        }

        // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ìƒ‰ìƒ ì—…ë°ì´íŠ¸
        updateNavState(boxId);
    }

    // 2. ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ìƒ‰ìƒ ì œì–´ í•¨ìˆ˜
    function updateNavState(currentBox) {
        const navBtns = document.querySelectorAll('#bottom-nav button');
        if (navBtns.length === 0) return;

        // [A] ì´ˆê¸°í™” (íšŒìƒ‰)
        navBtns.forEach(btn => {
            const icon = btn.querySelector('.material-icons-round');
            const text = btn.querySelector('span:last-child');
            if(icon) icon.style.color = '#737373'; 
            if(text) text.style.color = '#737373';
        });

        // [B] í™œì„±í™” ì¸ë±ìŠ¤ ì°¾ê¸°
        let activeIndex = -1; 
        if (currentBox === 'unit-selector') {
            activeIndex = 0; // UNIT
        } else if (currentBox === 'results-box' || currentBox === 'report-box') { 
            activeIndex = 1; // PROGRESS REPORT
        } else if (currentBox === 'profile-box') {
            activeIndex = 2; // PROFILE
        } else if (currentBox === 'notice-box') {
            activeIndex = 3; // NOTICE
        }

        // [C] í™œì„±í™” (í˜•ê´‘ ë…¹ìƒ‰)
        if (activeIndex >= 0 && navBtns[activeIndex]) {
            const activeBtn = navBtns[activeIndex];
            const icon = activeBtn.querySelector('.material-icons-round');
            const text = activeBtn.querySelector('span:last-child');
            if(icon) icon.style.color = '#39FF14';
            if(text) text.style.color = '#39FF14';
        }
    }

    // [ì¶”ê°€] ë¸Œë¼ìš°ì € íƒ­ì„ ë‚˜ê°”ë‹¤ ë“¤ì–´ì˜¬ ë•Œ Wake Lockì´ í’€ë¦¬ëŠ” ê²½ìš° ì¬ìš”ì²­
    document.addEventListener('visibilitychange', async () => {
        const studyBox = document.getElementById('study-box');
        const repeatBox = document.getElementById('repeat-box');
        // í•™ìŠµ í™”ë©´ì´ ë³´ì´ëŠ” ìƒíƒœë¼ë©´ ë‹¤ì‹œ ë½ì„ ê²ë‹ˆë‹¤.
        if (document.visibilityState === 'visible' && 
           (studyBox.style.display === 'block' || repeatBox.style.display === 'block')) {
            await toggleScreenKeepAwake(true);
        }
    });</script>
