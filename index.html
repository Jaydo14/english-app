<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Build A Monster</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    /* ì»¤ìŠ¤í…€ íŒì—… ìŠ¤íƒ€ì¼ (70% í¬ê¸° ì¶•ì†Œ) */
    #custom-modal {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.85); z-index: 10000; align-items: center; justify-content: center;
    }
    .modal-content {
      background: #111; border: 2px solid #39ff14; border-radius: 15px; 
      padding: 18px; 
      text-align: center; 
      width: 70%; 
      max-width: 300px; 
      box-shadow: 0 0 15px #39ff14;
    }
    .modal-content p { color: #fff; font-size: 15px; line-height: 1.5; margin-bottom: 20px; white-space: pre-wrap; }
    .modal-content button {
      background: #39ff14; color: #000; border: none; padding: 10px 0;
      font-size: 16px; font-weight: bold; border-radius: 8px; cursor: pointer; width: 100%;
    }
    .security-warning { margin-top: 20px; font-size: 10px; color: #555; line-height: 1.4; padding: 0 20px; }
    @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-8px); } 50% { transform: translateX(8px); } 75% { transform: translateX(-8px); } 100% { transform: translateX(0); } }
    .shake { animation: shake 0.3s ease-in-out; }
  </style>
</head>
<body>
  <div class="container">
    <div id="login-box" class="box">
      <h1>Build A Monster</h1>
      <p>í•¸ë“œí° ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
      <input type="text" id="phone-input" placeholder="ì˜ˆ: 01012345678" style="text-align:center;">
      <button onclick="login()">Login</button>
    </div>

    <div id="app" style="display:none;">
      <div id="unit-selector" class="box">
        <h2 id="welcome-msg">Unit ì„ íƒ</h2>
        <div id="unit-buttons"></div>
        <button onclick="showResultsPage()" style="background:#444; color:#39ff14; margin-top:20px; font-size:16px;">ğŸ“Š Progress Report</button>
      </div>

      <div id="menu-box" class="box" style="display:none;">
        <h2 id="menu-title">Select Mode</h2>
        <button onclick="startScriptMode()">Script</button>
        <button onclick="startVocaMode()">Vocab</button>
        <button onclick="startASMode()">AS Correction</button>
        <button onclick="startRepeatMode()">ë°˜ë³µë“£ê¸°</button>
        <button onclick="goBackToUnits()" style="background:#666; color:#fff; margin-top:20px;">Back to Menu</button>
      </div>

      <div id="study-box" class="box" style="display:none;">
        <div id="progress-wrap"><div id="progress"></div></div>
        <div id="progress-percent">0%</div>
        <p id="sentence" style="font-size:18px; font-weight:bold;">Ready?</p>
        <p id="sentence-kor" style="font-size:15px; color:#aaa;"> </p>
        <div id="control-area" style="display: flex; flex-direction: column; align-items: center; gap: 10px; margin-top: 20px;">
          <button id="start-btn" onclick="startStudy()" style="width: 95%;">Start</button>
          <button id="skip-btn" onclick="nextStep()" class="sub-action-btn" style="display:none;">Skip</button>
          <button onclick="showMenu()" class="sub-action-btn">Back</button>
        </div>
      </div>

      <div id="as-box" class="box" style="display:none;"></div>

      <div id="results-box" class="box" style="display:none; max-height: 90vh; overflow-y: auto;">
        <h2 style="color:#39ff14;">Progress Report</h2>
        <div id="results-content" style="padding: 0 5px;"></div>
        <button onclick="showBox('unit-selector')" class="sub-action-btn" style="margin-top:20px;">Back to Menu</button>
      </div>

      <div id="repeat-box" class="box" style="display:none;">
        <h2>ë°˜ë³µ ë“£ê¸°</h2>
        <div style="margin-bottom:15px;">
          <input type="number" id="repeat-count" value="3" style="width:60px; background:#000; color:#fff; border:1px solid #39ff14;"> íšŒ ë°˜ë³µ
          <button onclick="runRepeatAudio()" style="width:100px; padding:10px;">ì‹œì‘</button>
        </div>
        <div id="repeat-list" style="text-align:left; max-height:350px; overflow-y:auto; border-top:1px solid #39ff14; padding-top:10px;"></div>
        <button onclick="stopRepeatAudio(); showMenu();" class="sub-action-btn" style="margin-top:20px;">Back to Menu</button>
      </div>

      <div id="dev-box" class="box" style="display:none;">
        <h2 id="dev-title">Loading...</h2>
        <p id="dev-msg" style="padding:50px 0;">ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤. â³</p>
      </div>
    </div>

    <div id="custom-modal">
      <div class="modal-content">
        <p id="modal-msg"></p>
        <button onclick="closeCustomModal()">í™•ì¸</button>
      </div>
    </div>

    <footer style="margin-top: 30px; padding-bottom: 20px; text-align: center;">
      <div class="security-warning">
        ê²½ê³ : ë³¸ ì‹œìŠ¤í…œì€ ì¸ê°€ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë¬´ë‹¨ ì ‘ê·¼, ë°ì´í„° ë³µì œ ë° ìœ ì¶œ ì‹œ ê´€ë ¨ ë²•ë ¹ì— ì˜ê±°í•˜ì—¬ ë¯¼Â·í˜•ì‚¬ìƒì˜ ë²•ì  ì±…ì„ì„ ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ëª¨ë“  ì ‘ì† ë¡œê·¸ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤.
      </div>
      <p style="color: #888; font-size: 11px; font-weight: bold; margin-top: 10px;">Copyright Â© 2026 English App. All rights reserved.</p>
    </footer>
  </div>
  <script src="app.js"></script>
</body>
</html>
