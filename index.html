<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>English Speaking App</title>
  <style>
    /* ===========================
       1. ê¸°ë³¸ ìŠ¤íƒ€ì¼ (Dark Theme)
       =========================== */
    body {
      background-color: #000;
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      /* ëª¨ë°”ì¼ì—ì„œ í„°ì¹˜ ì‹œ í•˜ì´ë¼ì´íŠ¸ ì œê±° */
      -webkit-tap-highlight-color: transparent;
    }

    h1, h2 {
      margin-top: 20px;
      color: #39ff14; /* í˜•ê´‘ ë…¹ìƒ‰ */
      text-shadow: 0 0 5px #39ff14;
    }

    /* ===========================
       2. ë ˆì´ì•„ì›ƒ ë°•ìŠ¤ ê³µí†µ
       =========================== */
    .box {
      width: 90%;
      max-width: 400px;
      margin: 20px auto;
      padding: 20px;
      border: 2px solid #333;
      border-radius: 15px;
      background-color: #111;
      box-shadow: 0 0 15px rgba(57, 255, 20, 0.2);
    }

    /* ===========================
       3. ì…ë ¥ì°½ ë° ë²„íŠ¼ ìŠ¤íƒ€ì¼
       =========================== */
    input[type="text"], input[type="number"] {
      padding: 10px;
      width: 70%;
      border-radius: 5px;
      border: 1px solid #555;
      background-color: #222;
      color: #fff;
      font-size: 16px;
      margin-bottom: 10px;
      text-align: center;
    }

    button {
      cursor: pointer;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      transition: all 0.2s;
    }

    /* ë©”ì¸ ì•¡ì…˜ ë²„íŠ¼ (í˜•ê´‘ ë…¹ìƒ‰) */
    .main-btn {
      background-color: #39ff14;
      color: #000;
      padding: 15px 30px;
      width: 100%;
      margin-top: 10px;
    }
    .main-btn:active {
      transform: scale(0.98);
      background-color: #32cd11;
    }

    /* ë³´ì¡° ë²„íŠ¼ (íšŒìƒ‰ í…Œë‘ë¦¬) */
    .sub-btn {
      background-color: transparent;
      border: 1px solid #555;
      color: #aaa;
      padding: 10px 20px;
      margin-top: 15px;
      width: 80%;
    }
    .sub-btn:active {
      background-color: #222;
    }

    /* ===========================
       4. ìœ ë‹› ì„ íƒ ë²„íŠ¼ ê·¸ë¦¬ë“œ
       =========================== */
    #unit-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr; /* 2ì—´ ë°°ì¹˜ */
      gap: 10px;
      margin-top: 20px;
    }

    #unit-buttons button {
      background-color: #006400; /* ì§™ì€ ë…¹ìƒ‰ */
      color: #fff;
      padding: 15px;
      border: 1px solid #39ff14;
    }
    
    #unit-buttons button:active {
      background-color: #39ff14;
      color: #000;
    }

    .unit-title {
      font-size: 12px;
      color: #aaa;
      font-weight: normal;
    }

    /* ===========================
       5. ë©”ë‰´ ì„ íƒ ë²„íŠ¼ (Script, Vocab ë“±)
       =========================== */
    .menu-buttons {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 20px;
    }

    .menu-buttons button {
      background-color: #222;
      color: #fff;
      border: 1px solid #39ff14;
      padding: 15px;
      font-size: 18px;
    }
    
    .menu-buttons button:active {
      background-color: #39ff14;
      color: #000;
    }

    /* ===========================
       6. í•™ìŠµ í™”ë©´ (Script)
       =========================== */
    #sentence {
      font-size: 22px;
      margin: 30px 0;
      line-height: 1.4;
      min-height: 60px;
    }
    
    #sentence-kor {
      font-size: 16px;
      color: #aaa;
      margin-bottom: 20px;
      min-height: 30px;
    }

    .success { animation: pop 0.3s ease; }
    .fail { animation: shake 0.3s ease; }

    /* ì§„í–‰ë°” */
    #progress-container {
      width: 100%;
      background-color: #333;
      height: 10px;
      border-radius: 5px;
      margin: 20px 0 5px 0;
      overflow: hidden;
    }
    
    #progress {
      height: 100%;
      background-color: #39ff14;
      width: 0%;
      transition: width 0.3s;
    }
    
    #progress-percent {
      font-size: 12px;
      color: #888;
    }

    /* ===========================
       7. ë°˜ë³µ ë“£ê¸° ë¦¬ìŠ¤íŠ¸
       =========================== */
    /* ìŠ¤í¬ë¡¤ë°” ë””ìì¸ (í¬ë¡¬/ì‚¬íŒŒë¦¬) */
    #repeat-list::-webkit-scrollbar {
      width: 8px;
    }
    #repeat-list::-webkit-scrollbar-thumb {
      background: #555; 
      border-radius: 4px;
    }
    #repeat-list::-webkit-scrollbar-track {
      background: #222; 
    }

    /* ===========================
       8. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
       =========================== */
    @keyframes pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
  </style>
</head>
<body>

  <div id="login-box" class="box">
    <h1>English App</h1>
    <p>í•¸ë“œí° ë’·ë²ˆí˜¸ 4ìë¦¬ ì…ë ¥</p>
    <input type="text" id="phone-input" placeholder="1234" maxlength="4" onkeypress="if(event.keyCode==13) login()">
    <button class="main-btn" onclick="login()">Login</button>
  </div>

  <div id="app" style="display: none;">
    <h1 id="welcome-msg">Unit ì„ íƒ</h1>

    <div id="unit-selection-area">
       <div id="unit-buttons">
         </div>
    </div>

    <div id="menu-box" class="box" style="display: none;">
      <h2 id="menu-title">Select Mode</h2>
      <div class="menu-buttons">
        <button onclick="startScriptMode()">Script</button>
        <button onclick="startDevMode()">Vocab</button>
        <button onclick="startDevMode()">AS Correction</button>
        <button onclick="startRepeatMode()">ë°˜ë³µë“£ê¸°</button>
      </div>
      <button class="sub-btn" onclick="goBackToUnit()">Back to Units</button>
    </div>

    <div id="study-box" class="box" style="display: none;">
      <div id="progress-container">
        <div id="progress"></div>
      </div>
      <div id="progress-percent">0%</div>

      <div id="sentence">Loading...</div>
      <div id="sentence-kor"></div>
      
      <button id="start-btn" class="main-btn" onclick="startStudy()">Start</button>
      <br>
      <button id="skip-btn" class="sub-btn" onclick="nextStep()" style="display:none; margin-top:10px;">Skip (Next)</button>
      <br>
      <button class="sub-btn" onclick="showMenu()" style="margin-top: 30px;">Back to Menu</button>
    </div>

    <div id="repeat-box" class="box" style="display: none;">
      <h2>ë°˜ë³µ ë“£ê¸°</h2>
      <div id="repeat-list" style="text-align: left; margin-bottom: 20px; max-height: 300px; overflow-y: auto; padding-right: 5px;">
        </div>
      
      <div class="control-panel" style="background-color: #222; padding: 15px; border-radius: 10px;">
        <label style="font-size: 14px; color: #aaa;">ë°˜ë³µ íšŸìˆ˜ : </label>
        <input type="number" id="repeat-count" value="3" style="width: 50px; text-align: center; margin: 0;">
        <span style="font-size: 14px; color: #aaa;"> íšŒ</span>
        <br><br>
        <button id="repeat-play-btn" class="main-btn" onclick="runRepeatAudio()">ì¬ìƒ ì‹œì‘</button>
        <button class="sub-btn" onclick="stopRepeatAudio()" style="border-color: #ff4b4b; color: #ff4b4b;">ì •ì§€</button>
      </div>
      <br>
      <button class="sub-btn" onclick="showMenu()">Back to Menu</button>
    </div>

    <div id="dev-box" class="box" style="display: none;">
      <h2 style="color: #888;">ì¤€ë¹„ ì¤‘...</h2>
      <p style="margin: 40px 0; color: #aaa; line-height: 1.6;">
        í˜„ì¬ ê°œë°œ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.<br>
        ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”! ğŸ› ï¸
      </p>
      <button class="sub-btn" onclick="showMenu()">Back</button>
    </div>

  </div>

  <script src="app.js"></script>
</body>
</html>
